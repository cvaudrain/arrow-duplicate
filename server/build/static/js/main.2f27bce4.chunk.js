(this["webpackJsonpkeeper-app-part-1-starting"]=this["webpackJsonpkeeper-app-part-1-starting"]||[]).push([[0],{65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(32),l=a.n(r),s=a(35),c=a(2),i=a(12),u=a(1);var m=function(e){return o.a.createElement("header",null,o.a.createElement("p",{className:"indigo"},e.headerText)," ",o.a.createElement("h3",{className:"greeting"},"Hello, ",e.userNameGreeting),o.a.createElement(i.b,{to:"/authenticate"},o.a.createElement("button",{onClick:e.logout,className:"logout-button align-r"},"Logout")))};var d=function(){return(new Date).getFullYear(),o.a.createElement("footer",null,o.a.createElement("p",null))};var h=function(e){function t(t){e.onEdit(e.id,e.title,e.content)}return o.a.createElement("div",{className:"note"},o.a.createElement("h1",{onClick:t},e.title),o.a.createElement("p",{onClick:t},e.content),o.a.createElement("button",{onClick:function(){e.onDelete(e.id)}},"DELETE"))},p=a(9),g=a(8);var E=function(e){var t=Object(n.useState)({id:"",title:"",content:""}),a=Object(c.a)(t,2),r=a[0],l=a[1];function s(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(p.a)({},a,n))})),console.log(n)}return o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("input",{onChange:s,name:"title",value:r.title,placeholder:"Title",autoComplete:"off"}),o.a.createElement("textarea",{onKeyDown:function(e){13===e.keyCode&&document.getElementById("submitButton").click()},type:"submit",onChange:s,name:"content",value:r.content,placeholder:"Take a Note",row:"3",autoComplete:"off"}),o.a.createElement("button",{id:"submitButton",onClick:function(t){0!=r.title.length||0!=r.content.length?(e.onAdd(r),r,l({id:"",title:"",content:""}),t.preventDefault()):console.log("detecting EMPTY NOTE")}},"Add")))};var f=function(e){var t=Object(n.useState)({id:e.populateId,title:e.populateTitle,content:e.populateContent}),a=Object(c.a)(t,2),r=a[0],l=a[1];function s(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(p.a)({},a,n))})),console.log(a),console.log(n)}return o.a.createElement("div",null,o.a.createElement("form",{style:{height:"60vh",width:"90vw"}},o.a.createElement("input",{onChange:s,name:"title",value:r.title,placeholder:"Title",autoComplete:"off"}),o.a.createElement("textarea",{onKeyDown:function(e){13===e.keyCode&&document.getElementById("updateButton").click()},type:"submit",style:{height:"50vh",width:"80vw"},onChange:s,name:"content",value:r.content,placeholder:"Take a Note",row:"3",autoComplete:"off"}),o.a.createElement("button",{id:"updateButton",onClick:function(t){e.onEditSubmit(r),l({id:"",title:"",content:""}),t.preventDefault()}},"Save")))},b=a(11),v=a.n(b),S=a(34),O=a.n(S);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;var N=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],d=i[1],h=Object(n.useState)(!1),E=Object(c.a)(h,2),f=(E[0],E[1],Object(n.useState)(!1)),b=Object(c.a)(f,2),S=b[0],N=b[1],y=Object(n.useState)(!1),j=Object(c.a)(y,2),w=j[0],C=j[1],T=Object(n.useState)({name:"",email:"",password:""}),D=Object(c.a)(T,2),k=D[0],I=D[1],A=Object(n.useState)({name:"",email:"",password:""}),P=Object(c.a)(A,2),_=(P[0],P[1],Object(n.useState)(!0)),B=Object(c.a)(_,2),R=B[0],F=B[1];function x(e){var t=e.target,a=t.name,n=t.value;I((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(p.a)({},a,n))}))}function L(){F(!R),m&&d(!1),N(!1),C(!1)}return o.a.createElement(u.b,{path:"/authenticate"},r?o.a.createElement(u.a,{to:"/"}):console.log("not logged in yet"),o.a.createElement("div",null,o.a.createElement("header",{className:"auth-header"},o.a.createElement("img",{className:"arrow",src:"arrow.png"})),o.a.createElement("h1",{className:"auth-sub-heading"},R?"Login":"Register"),o.a.createElement("form",{method:"post",className:"auth-form",id:"authForm"},!R&&o.a.createElement("input",{onChange:x,type:"email",name:"email",placeholder:"Email",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("input",{onChange:x,type:"text",name:"username",placeholder:"Username",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("input",{onChange:x,type:"password",onKeyDown:function(e){13===e.keyCode&&document.getElementById("submitButton").click()},name:"password",placeholder:"Password",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("button",{className:"auth-login-btn",id:"submitButton",onClick:R?function(t){console.log("submission function fired..."),v()({method:"post",url:"/api/authenticate",data:k}).then((function(t){var a=t.data.retrievedEmail,n=t.data.authenticated,o=t.data.retrievedNotes,r=t.data.retrievedUsername,s={username:r,notes:o,email:a,authStatus:n};console.log(t.data),"unsuccessful attempt"==t.data&&(s={username:"nameless user",notes:[],email:"no email",authStatus:!1},document.getElementById("authForm").reset()),s=JSON.stringify(s),sessionStorage.setItem("userData",s),l(t.data.authenticated),!s.authStatus&&d(!0),n&&e.authFunction(n,o,r,a,s)})),t.preventDefault()}:function(t){var a=function(e,t){var a,n=O()(e),o=/[a-z]/.test(t),r=/[A-Z]/.test(t),l=/\d/.test(t),s=t.length;return a=1==o&&1==r&&1==l&&s>=6,n&&a?(console.log("validation PASSED"),!0):(console.log("validation FAILED"),console.log(a),console.log(n),!1)}(k.email,k.password);!0===a?v.a.post("/api/registerUser",k).then((function(t){console.log(t.data);var a,n=t.data.authStatus;t.data.email,t.data.username;l(t.data.authStatus),n&&e.authFunction(t.data.authStatus,[],t.data.username,t.data.email),!t.data.authStatus&&N(!0),t.data.authStatus&&N(!1),t.data.authStatus&&(a=JSON.stringify(t.data),sessionStorage.setItem("userData",a)),"UserExistsError"==(null!=t.data.error&&void 0!=t.data.error.name?t.data.error.name:"none")&&C(!0)})):!1===a&&(N(!0),document.getElementById("authForm").reset()),t.preventDefault()}},"Submit")),1==m&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("h4",null,"Incorrect login... Let's try again.")),w&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("div",null,o.a.createElement("h2",{className:"br"},"Username taken!")," It must be pretty cool. Try another one.")),1==S&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("div",null,o.a.createElement("h2",null,"Invalid credentials.")," ",o.a.createElement("h3",{className:"br"},"Please confirm that:")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 uppercase letter")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 lowercase letter")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 number")," ",o.a.createElement("h5",{className:"br"},"Password is at least 6 characters long")," ",o.a.createElement("h5",{className:"br"},"Your email is not already registered"))),R?o.a.createElement("div",{className:"register"},o.a.createElement("h3",{className:"regtext"},o.a.createElement("i",null,"First time here?")),o.a.createElement("button",{onClick:L,className:"to-register-btn"},"Go Register")):o.a.createElement("div",{className:"register"},o.a.createElement("h3",{className:"regtext"},o.a.createElement("i",null,"Already registered?")),o.a.createElement("button",{onClick:L,className:"to-register-btn"}," Go to Login")),o.a.createElement("div",{className:"about-arrow"},o.a.createElement("div",null,o.a.createElement("h1",{className:"about-header"},"About Arrow...")),o.a.createElement("h2",{className:"paragraph"},"Arrow is an ever-growing, productivity-focused web application to help you stay on target (pun 1/2). Developed as a personal project by a new face in web development, Arrow is meant to serve as a cohesive collection of productivity apps for personal organization and task management.")," ",o.a.createElement("h2",{className:"paragraph"},"Launched initially as a notetaking app, the Arrow collection is continually expanding to include more tools to help you keep life just a little more functional... Arrow functional! (pun 2/2, for our fellow javascript enthusiasts).")," ",o.a.createElement("h2",{className:"paragraph"},"If you'd like to give it a try, rest assured you'll get no email spam from this app and your email will be used solely to secure your user experience. If there were too many puns and you'd rather not, that's also pretty valid."),o.a.createElement("h2",{className:"paragraph"},"As always, thanks a ton for stopping by and best wishes to all visitors!"))))};var y=function(e){return console.log("codeblock on PracticeRoute running"),o.a.createElement("h1",null,"A practice route")};Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;var j=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({Id:"",Title:"",Content:""}),p=Object(c.a)(l,2),g=p[0],b=p[1];null===sessionStorage.getItem("userData")&&sessionStorage.setItem("userData",JSON.stringify({username:"nameless user",notes:[],email:"no email",authStatus:!1}));var S=function(){var e=sessionStorage.getItem("userData");return"no email"!==e.email?(e=sessionStorage.getItem("userData"),JSON.parse(e),JSON.parse(e)):(console.log("sessionStorage NOT set correctly, currently storing placehold values"),{username:"nameless user",notes:[],email:"no email",authStatus:!1})};S=S();var O=Object(n.useState)(S.notes),j=Object(c.a)(O,2),w=j[0],C=j[1],T=Object(n.useState)(S.authStatus),D=Object(c.a)(T,2),k=D[0],I=D[1],A=Object(n.useState)(S.username),P=Object(c.a)(A,2),_=P[0],B=P[1],R=Object(n.useState)(S.email),F=Object(c.a)(R,2),x=F[0],L=F[1];function J(e){C((function(t){return t.filter((function(t,a){return a!==e}))}))}function K(e,t,a){b({Id:e,Title:t,Content:a}),r(!0)}function U(){v.a.get("/logout",(function(e,t){e.logout})),sessionStorage.clear(),C([]),B("nameless user"),L("no email"),I(!1)}return Object(n.useEffect)((function(){w.length>0&&w&&(console.log("when posting in useEffect, notes =="),console.log(w),v.a.post("/api/addNotes",{userEmail:x,notes:w}).then((function(e){return console.log(e.data)})),sessionStorage.setItem("userData",JSON.stringify({username:_,notes:w,email:x,authStatus:!0})))}),[w]),o.a.createElement(i.a,{history:history},o.a.createElement("div",null,o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"/PracticeRoute"},o.a.createElement(y,null)),o.a.createElement(u.b,{path:"/authenticate"},k&&o.a.createElement(u.a,{from:"/authenticate",to:"/"}),o.a.createElement(N,{id:"Auth",authFunction:function(e,t,a,n){B(a),L(n),C(t),I(e);var o={username:a,email:n,notes:t,authStatus:e};o=JSON.stringify(o),sessionStorage.setItem("userData",o)}})),o.a.createElement(u.b,{path:"/"},!k&&o.a.createElement(u.a,{from:"/",to:"/authenticate"}),a&&o.a.createElement("div",null,o.a.createElement(m,{headerText:"Edit Note",logout:U,userNameGreeting:_}),o.a.createElement(f,{populateId:g.Id,populateTitle:g.Title,populateContent:g.Content,onEditSubmit:function(e){var t=w;t=t.map((function(a,n){if(n!==e.id)return a;t[n]=e})),r(!1),v.a.post("/api/addNotes",{userEmail:x,notes:w}).then((function(e){return console.log(e.data)})),sessionStorage.setItem("userData",JSON.stringify({username:_,notes:w,email:x,authStatus:!0}))}})),!a&&o.a.createElement("div",null,o.a.createElement(m,{headerText:"Notepad",userNameGreeting:_,logout:U}),o.a.createElement(E,{onAdd:function(e){C((function(t){return[].concat(Object(s.a)(t),[e])}));var t=[];console.log(w),w.forEach((function(e){t.push(e)}))}}),w.map((function(e,t){return o.a.createElement(h,{key:t,id:t,title:e?e.title:"edit value didn't carry over",content:e?e.content:"something wrong w/ notes array",onDelete:J,onEdit:K})})),o.a.createElement(d,null))))))};l.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.2f27bce4.chunk.js.map