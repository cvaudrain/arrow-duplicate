(this["webpackJsonpkeeper-app-part-1-starting"]=this["webpackJsonpkeeper-app-part-1-starting"]||[]).push([[0],{65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(32),r=a.n(l),s=a(35),c=a(2),i=a(11),u=a(1);var m=function(e){return o.a.createElement("header",null,o.a.createElement("p",{className:"indigo"},e.headerText)," ",o.a.createElement("h3",{className:"greeting"},"Hello, ",e.userNameGreeting),o.a.createElement(i.b,{to:"/authenticate"},o.a.createElement("button",{onClick:e.logout,className:"logout-button align-r"},"Logout")))};var d=function(){return(new Date).getFullYear(),o.a.createElement("footer",null,o.a.createElement("p",null))};var g=function(e){function t(t){e.onEdit(e.id,e.title,e.content)}return o.a.createElement("div",{className:"note"},o.a.createElement("h1",{onClick:t},e.title),o.a.createElement("p",{onClick:t},e.content),o.a.createElement("button",{onClick:function(){e.onDelete(e.id)}},"DELETE"))},h=a(10),p=a(8);var E=function(e){var t=Object(n.useState)({id:"",title:"",content:""}),a=Object(c.a)(t,2),l=a[0],r=a[1];function s(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},a,n))})),console.log(n)}return o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("input",{onChange:s,name:"title",value:l.title,placeholder:"Title",autoComplete:"off"}),o.a.createElement("textarea",{onKeyDown:function(e){13===e.keyCode&&document.getElementById("submitButton").click()},type:"submit",onChange:s,name:"content",value:l.content,placeholder:"Take a Note",row:"3",autoComplete:"off"}),o.a.createElement("button",{id:"submitButton",onClick:function(t){0!=l.title.length||0!=l.content.length?(e.onAdd(l),l,r({id:"",title:"",content:""}),t.preventDefault()):console.log("detecting EMPTY NOTE")}},"Add")))};var f=function(e){var t=Object(n.useState)({id:e.populateId,title:e.populateTitle,content:e.populateContent}),a=Object(c.a)(t,2),l=a[0],r=a[1];function s(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},a,n))})),console.log(a),console.log(n)}return o.a.createElement("div",null,o.a.createElement("form",{style:{height:"60vh",width:"90vw"}},o.a.createElement("input",{onChange:s,name:"title",value:l.title,placeholder:"Title",autoComplete:"off"}),o.a.createElement("textarea",{onKeyDown:function(e){13===e.keyCode&&document.getElementById("updateButton").click()},type:"submit",style:{height:"50vh",width:"80vw"},onChange:s,name:"content",value:l.content,placeholder:"Take a Note",row:"3",autoComplete:"off"}),o.a.createElement("button",{id:"updateButton",onClick:function(t){e.onEditSubmit(l),r({id:"",title:"",content:""}),t.preventDefault()}},"Save")))},b=a(9),v=a.n(b),S=a(34),N=a.n(S);var y=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],d=i[1],g=Object(n.useState)(!1),E=Object(c.a)(g,2),f=(E[0],E[1],Object(n.useState)(!1)),b=Object(c.a)(f,2),S=b[0],y=b[1],O=Object(n.useState)(!1),j=Object(c.a)(O,2),w=j[0],C=j[1],I=Object(n.useState)({name:"",email:"",password:""}),k=Object(c.a)(I,2),D=k[0],T=k[1],A=Object(n.useState)({name:"",email:"",password:""}),x=Object(c.a)(A,2),B=(x[0],x[1],Object(n.useState)(!0)),P=Object(c.a)(B,2),F=P[0],J=P[1];function L(e){var t=e.target,a=t.name,n=t.value;T((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},a,n))})),console.log(D)}function U(){J(!F),m&&d(!1),y(!1),C(!1)}return o.a.createElement(u.b,{path:"/authenticate"},l?o.a.createElement(u.a,{to:"/"}):console.log("not logged in yet"),o.a.createElement("div",null,o.a.createElement("header",{className:"auth-header"},o.a.createElement("img",{className:"arrow",src:"arrow.png"})),o.a.createElement("h1",{className:"auth-sub-heading"},F?"Login":"Register"),o.a.createElement("form",{method:"post",className:"auth-form",id:"authForm"},!F&&o.a.createElement("input",{onChange:L,type:"email",name:"email",placeholder:"Email",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("input",{onChange:L,type:"text",name:"username",placeholder:"Username",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("input",{onChange:L,type:"password",onKeyDown:function(e){13===e.keyCode&&document.getElementById("submitButton").click()},name:"password",placeholder:"Password",autoComplete:"off",className:"auth-login-field",required:!0}),o.a.createElement("button",{className:"auth-login-btn",id:"submitButton",onClick:F?function(t){console.log("submission function"),v.a.post("/api/authenticate",D).then((function(t){console.log(t.data),console.log(t.data.retrievedNotes);var a=t.data.retrievedEmail,n=t.data.authenticated,o=t.data.retrievedNotes,l=t.data.retrievedUsername,s={username:l,notes:o,email:a,authStatus:n};"unsuccessful attempt"==t.data&&(s={username:"nameless user",notes:[],email:"no email",authStatus:!1},document.getElementById("authForm").reset()),s=JSON.stringify(s),sessionStorage.setItem("userData",s),r(t.data.authenticated),!s.authStatus&&d(!0),n&&e.authFunction(n,o,l,a,s)})),t.preventDefault()}:function(t){var a=function(e,t){var a,n=N()(e),o=/[a-z]/.test(t),l=/[A-Z]/.test(t),r=/\d/.test(t),s=t.length;return a=1==o&&1==l&&1==r&&s>=6,n&&a?(console.log("validation PASSED"),!0):(console.log("validation FAILED"),console.log(a),console.log(n),!1)}(D.email,D.password);!0===a?v.a.post("/api/registerUser",D).then((function(t){console.log(t.data);var a,n=t.data.authStatus;t.data.email,t.data.username;r(t.data.authStatus),n&&e.authFunction(t.data.authStatus,[],t.data.username,t.data.email),!t.data.authStatus&&y(!0),t.data.authStatus&&y(!1),t.data.authStatus&&(a=JSON.stringify(t.data),sessionStorage.setItem("userData",a)),"UserExistsError"==(null!=t.data.error&&void 0!=t.data.error.name?t.data.error.name:"none")&&C(!0)})):!1===a&&(y(!0),document.getElementById("authForm").reset()),t.preventDefault()}},"Submit")),1==m&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("h4",null,"Incorrect login... Let's try again.")),w&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("div",null,o.a.createElement("h2",{className:"br"},"Username taken!")," It must be pretty cool. Try another one.")),1==S&&o.a.createElement("div",{className:"errMessage centered"},o.a.createElement("div",null,o.a.createElement("h2",null,"Invalid credentials.")," ",o.a.createElement("h3",{className:"br"},"Please confirm that:")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 uppercase letter")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 lowercase letter")," ",o.a.createElement("h5",{className:"br"},"Password contains 1 number")," ",o.a.createElement("h5",{className:"br"},"Password is at least 6 characters long")," ",o.a.createElement("h5",{className:"br"},"Your email is not already registered"))),F?o.a.createElement("div",{className:"register"},o.a.createElement("h3",{className:"regtext"},o.a.createElement("i",null,"First time here?")),o.a.createElement("button",{onClick:U,className:"to-register-btn"},"Go Register")):o.a.createElement("div",{className:"register"},o.a.createElement("h3",{className:"regtext"},o.a.createElement("i",null,"Already registered?")),o.a.createElement("button",{onClick:U,className:"to-register-btn"}," Go to Login")),o.a.createElement("div",{className:"about-arrow"},o.a.createElement("div",null,o.a.createElement("h1",{className:"about-header"},"About Arrow...")),o.a.createElement("h2",{className:"paragraph"},"Arrow is an ever-growing, productivity-focused web application to help you stay on target (pun 1/2). Developed as a personal project by a new face in web development, Arrow is meant to serve as a cohesive collection of productivity apps for personal organization and task management.")," ",o.a.createElement("h2",{className:"paragraph"},"Launched initially as a notetaking app, the Arrow collection is continually expanding to include more tools to help you keep life just a little more functional... Arrow functional! (pun 2/2, for our fellow javascript enthusiasts).")," ",o.a.createElement("h2",{className:"paragraph"},"If you'd like to give it a try, rest assured you'll get no email spam from this app and your email will be used solely to secure your user experience. If there were too many puns and you'd rather not, that's also pretty valid."),o.a.createElement("h2",{className:"paragraph"},"As always, thanks a ton for stopping by and best wishes to all visitors!"))))};var O=function(e){return console.log("codeblock on PracticeRoute running"),o.a.createElement("h1",null,"A practice route")};var j=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)({Id:"",Title:"",Content:""}),h=Object(c.a)(r,2),p=h[0],b=h[1];null===sessionStorage.getItem("userData")&&sessionStorage.setItem("userData",JSON.stringify({username:"nameless user",notes:[],email:"no email",authStatus:!1}));var S=function(){var e=sessionStorage.getItem("userData");return"no email"!==e.email?(e=sessionStorage.getItem("userData"),console.log("sessionData variable is still available (line 34)"),JSON.parse(e),console.log(e),JSON.parse(e)):(console.log("sessionStorage NOT set correctly, currently storing dummy values"),{username:"nameless user",notes:[],email:"no email",authStatus:!1})};S=S(),console.log("sessiondata ===="),console.log(S),console.log(S.notes);var N=Object(n.useState)(S.notes),j=Object(c.a)(N,2),w=j[0],C=j[1];console.log("notes stateful ==="),console.log(w);var I=Object(n.useState)(S.authStatus),k=Object(c.a)(I,2),D=k[0],T=k[1],A=Object(n.useState)(S.username),x=Object(c.a)(A,2),B=x[0],P=x[1],F=Object(n.useState)(S.email),J=Object(c.a)(F,2),L=J[0],U=J[1];function R(e){C((function(t){return t.filter((function(t,a){return a!==e}))}))}function G(e,t,a){console.log("editNote called"),console.log(t),console.log(a),console.log(e),b({Id:e,Title:t,Content:a}),console.log("selectedNote values are now: "),console.log(p.Title),console.log(p.Content),l(!0)}function M(){v.a.get("/logout",(function(e,t){e.logout})),sessionStorage.clear(),C([]),P("nameless user"),U("no email"),T(!1)}return Object(n.useEffect)((function(){w.length>0&&w&&(console.log("when posting in useEffect, notes =="),console.log(w),v.a.post("/api/addNotes",{userEmail:L,notes:w}).then((function(e){return console.log(e.data)})),sessionStorage.setItem("userData",JSON.stringify({username:B,notes:w,email:L,authStatus:!0})),console.log(L),console.log("useEffect detected setNotes update to notes. axios.post to server notes:"),console.log(w))}),[w]),console.log(w),o.a.createElement(i.a,{history:history},o.a.createElement("div",null,o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"/PracticeRoute"},o.a.createElement(O,null)),o.a.createElement(u.b,{path:"/authenticate"},D&&o.a.createElement(u.a,{from:"/authenticate",to:"/"}),o.a.createElement(y,{id:"Auth",authFunction:function(e,t,a,n){console.log("authStateFunction Called"),P(a),U(n),C(t),T(e);var o={username:a,email:n,notes:t,authStatus:e};console.log("USERPROFILE:"),console.log(o),o=JSON.stringify(o),sessionStorage.setItem("userData",o)}})),o.a.createElement(u.b,{path:"/"},console.log(D),console.log("right above here is the authStatus full value.."),!D&&o.a.createElement(u.a,{from:"/",to:"/authenticate"}),a&&o.a.createElement("div",null,o.a.createElement(m,{headerText:"Edit Note",logout:M,userNameGreeting:B}),o.a.createElement(f,{populateId:p.Id,populateTitle:p.Title,populateContent:p.Content,onEditSubmit:function(e){var t=w;t=t.map((function(a,n){if(n!==e.id)return a;t[n]=e})),l(!1),console.log("NOTES STATUS IN EDITCOMPLETE LINE 260  "),console.log(w),v.a.post("/api/addNotes",{userEmail:L,notes:w}).then((function(e){return console.log(e.data)})),sessionStorage.setItem("userData",JSON.stringify({username:B,notes:w,email:L,authStatus:!0}))}})),!a&&o.a.createElement("div",null,o.a.createElement(m,{headerText:"Notepad",userNameGreeting:B,logout:M}),o.a.createElement(E,{onAdd:function(e){C((function(t){return[].concat(Object(s.a)(t),[e])}));var t=[];console.log(w),w.forEach((function(e){t.push(e)})),console.log("tempArr"),console.log(t)}}),w.map((function(e,t){return o.a.createElement(g,{key:t,id:t,title:e?e.title:"edit value didn't carry over",content:e?e.content:"something wrong w/ notes array",onDelete:R,onEdit:G})})),o.a.createElement(d,null))))))};r.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.c11beb7b.chunk.js.map